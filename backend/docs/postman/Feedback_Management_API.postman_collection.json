{
	"info": {
		"_postman_id": "feedback-management-api",
		"name": "Feedback Management API",
		"description": "Comprehensive API collection for managing guest feedback in the Luxuray Stay Hotel Management System. This collection includes endpoints for creating, reading, updating, deleting feedback, as well as search, filtering, statistics, and response management.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "luxuray-stay-hms"
	},
	"item": [
		{
			"name": "Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/health",
					"host": ["{{base_url}}"],
					"path": ["health"]
				},
				"description": "Check if the API server is running and healthy"
			},
			"response": []
		},
		{
			"name": "Create Feedback",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"guestId\": \"507f1f77bcf86cd799439011\",\n  \"reservationId\": \"507f1f77bcf86cd799439012\",\n  \"roomId\": \"507f1f77bcf86cd799439013\",\n  \"rating\": 5,\n  \"category\": \"service\",\n  \"comment\": \"Excellent service and clean room. Staff was very helpful and friendly.\",\n  \"isAnonymous\": false\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/v1/feedback",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "feedback"]
				},
				"description": "Create a new feedback entry from a guest"
			},
			"response": []
		},
		{
			"name": "Get All Feedback",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/v1/feedback?page=1&limit=10&sortBy=createdAt&sortOrder=desc",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "feedback"],
					"query": [
						{
							"key": "page",
							"value": "1",
							"description": "Page number (default: 1)"
						},
						{
							"key": "limit",
							"value": "10",
							"description": "Items per page (default: 10, max: 100)"
						},
						{
							"key": "sortBy",
							"value": "createdAt",
							"description": "Sort field (createdAt, rating, category)"
						},
						{
							"key": "sortOrder",
							"value": "desc",
							"description": "Sort order (asc, desc)"
						}
					]
				},
				"description": "Retrieve all feedback with pagination and sorting"
			},
			"response": []
		},
		{
			"name": "Filter Feedback by Category",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/v1/feedback?category=service&page=1&limit=10",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "feedback"],
					"query": [
						{
							"key": "category",
							"value": "service",
							"description": "Filter by category (room_quality, service, cleanliness, food, staff, facilities, value, overall)"
						},
						{
							"key": "page",
							"value": "1"
						},
						{
							"key": "limit",
							"value": "10"
						}
					]
				},
				"description": "Filter feedback by specific category"
			},
			"response": []
		},
		{
			"name": "Filter Feedback by Rating",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/v1/feedback?rating=5&page=1&limit=10",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "feedback"],
					"query": [
						{
							"key": "rating",
							"value": "5",
							"description": "Filter by rating (1-5)"
						},
						{
							"key": "page",
							"value": "1"
						},
						{
							"key": "limit",
							"value": "10"
						}
					]
				},
				"description": "Filter feedback by specific rating"
			},
			"response": []
		},
		{
			"name": "Search Feedback",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/v1/feedback/search?query=excellent&category=service&rating=5",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "feedback", "search"],
					"query": [
						{
							"key": "query",
							"value": "excellent",
							"description": "Search query (required) - searches in comments"
						},
						{
							"key": "category",
							"value": "service",
							"description": "Optional: Filter by category"
						},
						{
							"key": "rating",
							"value": "5",
							"description": "Optional: Filter by rating"
						}
					]
				},
				"description": "Search feedback by text query with optional filters"
			},
			"response": []
		},
		{
			"name": "Get Feedback Statistics",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/v1/feedback/statistics",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "feedback", "statistics"]
				},
				"description": "Get comprehensive feedback statistics including total count, average rating, response rate, and category breakdown"
			},
			"response": []
		},
		{
			"name": "Get Feedback by ID",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/v1/feedback/:id",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "feedback", ":id"],
					"variable": [
						{
							"key": "id",
							"value": "68adfaf5e167ffedfd7309ab",
							"description": "Feedback ID"
						}
					]
				},
				"description": "Retrieve a specific feedback entry by its ID"
			},
			"response": []
		},
		{
			"name": "Update Feedback",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"rating\": 4,\n  \"comment\": \"Updated: Very good service and clean room. Staff was helpful.\",\n  \"category\": \"service\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/v1/feedback/:id",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "feedback", ":id"],
					"variable": [
						{
							"key": "id",
							"value": "68adfaf5e167ffedfd7309ab",
							"description": "Feedback ID"
						}
					]
				},
				"description": "Update an existing feedback entry (partial update supported)"
			},
			"response": []
		},
		{
			"name": "Add Response to Feedback",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"feedbackId\": \"68adfaf5e167ffedfd7309ab\",\n  \"response\": \"Thank you for your excellent feedback! We are delighted to hear about your positive experience.\",\n  \"responseBy\": \"507f1f77bcf86cd799439011\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/v1/feedback/:id/respond",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "feedback", ":id", "respond"],
					"variable": [
						{
							"key": "id",
							"value": "68adfaf5e167ffedfd7309ab",
							"description": "Feedback ID"
						}
					]
				},
				"description": "Add a management response to feedback"
			},
			"response": []
		},
		{
			"name": "Delete Feedback",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/v1/feedback/:id",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "feedback", ":id"],
					"variable": [
						{
							"key": "id",
							"value": "68adfaf5e167ffedfd7309ab",
							"description": "Feedback ID"
						}
					]
				},
				"description": "Delete a feedback entry (admin only)"
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:4000",
			"description": "Base URL for the API server"
		}
	]
}