{
	"info": {
		"_postman_id": "report-management-api",
		"name": "Report Management API",
		"description": "Comprehensive API collection for managing reports in the Luxuray Stay Hotel Management System. This collection includes endpoints for generating, retrieving, updating, deleting reports, as well as statistics, cleanup, and bulk operations.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "luxuray-stay-hms"
	},
	"item": [
		{
			"name": "Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/v1/reports/health",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", "health"]
				},
				"description": "Check if the Report API is running and healthy"
			},
			"response": []
		},
		{
			"name": "Generate Report",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"reportType\": \"occupancy\",\n  \"format\": \"json\",\n  \"parameters\": {\n    \"startDate\": \"2025-01-01T00:00:00.000Z\",\n    \"endDate\": \"2025-01-31T23:59:59.999Z\",\n    \"roomType\": \"all\",\n    \"includeProjections\": true\n  }\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/v1/reports/generate",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", "generate"]
				},
				"description": "Generate a new report with specified type and parameters"
			},
			"response": []
		},
		{
			"name": "Generate Revenue Report",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"reportType\": \"revenue\",\n  \"format\": \"pdf\",\n  \"parameters\": {\n    \"startDate\": \"2025-01-01T00:00:00.000Z\",\n    \"endDate\": \"2025-01-31T23:59:59.999Z\",\n    \"groupBy\": \"daily\",\n    \"includeBreakdown\": true,\n    \"currency\": \"USD\"\n  }\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/v1/reports/generate",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", "generate"]
				},
				"description": "Generate a revenue report with breakdown and grouping"
			},
			"response": []
		},
		{
			"name": "Generate Guest Report",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"reportType\": \"guest\",\n  \"format\": \"excel\",\n  \"parameters\": {\n    \"startDate\": \"2025-01-01T00:00:00.000Z\",\n    \"endDate\": \"2025-01-31T23:59:59.999Z\",\n    \"includeContactInfo\": true,\n    \"includePreferences\": false,\n    \"guestType\": \"all\"\n  }\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/v1/reports/generate",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", "generate"]
				},
				"description": "Generate a guest report with contact information and preferences"
			},
			"response": []
		},
		{
			"name": "Get All Reports",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/v1/reports?page=1&limit=10&sortBy=generatedDate&sortOrder=desc",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports"],
					"query": [
						{
							"key": "page",
							"value": "1",
							"description": "Page number (default: 1)"
						},
						{
							"key": "limit",
							"value": "10",
							"description": "Items per page (default: 10, max: 100)"
						},
						{
							"key": "sortBy",
							"value": "generatedDate",
							"description": "Sort field (generatedDate, reportType, format)"
						},
						{
							"key": "sortOrder",
							"value": "desc",
							"description": "Sort order (asc, desc)"
						}
					]
				},
				"description": "Retrieve all reports with pagination and sorting"
			},
			"response": []
		},
		{
			"name": "Filter Reports by Type",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/v1/reports?reportType=occupancy&page=1&limit=10",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports"],
					"query": [
						{
							"key": "reportType",
							"value": "occupancy",
							"description": "Filter by report type (occupancy, revenue, guest, maintenance, financial)"
						},
						{
							"key": "page",
							"value": "1"
						},
						{
							"key": "limit",
							"value": "10"
						}
					]
				},
				"description": "Filter reports by specific type"
			},
			"response": []
		},
		{
			"name": "Filter Reports by Format",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/v1/reports?format=pdf&page=1&limit=10",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports"],
					"query": [
						{
							"key": "format",
							"value": "pdf",
							"description": "Filter by format (json, pdf, excel, csv)"
						},
						{
							"key": "page",
							"value": "1"
						},
						{
							"key": "limit",
							"value": "10"
						}
					]
				},
				"description": "Filter reports by specific format"
			},
			"response": []
		},
		{
			"name": "Get Report Statistics",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/v1/reports/statistics",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", "statistics"]
				},
				"description": "Get comprehensive report statistics including total count, breakdown by type and format, user activity, and storage usage"
			},
			"response": []
		},
		{
			"name": "Get Report Statistics with Date Filter",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/v1/reports/statistics?startDate=2025-01-01&endDate=2025-01-31",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", "statistics"],
					"query": [
						{
							"key": "startDate",
							"value": "2025-01-01",
							"description": "Start date for statistics (YYYY-MM-DD)"
						},
						{
							"key": "endDate",
							"value": "2025-01-31",
							"description": "End date for statistics (YYYY-MM-DD)"
						}
					]
				},
				"description": "Get report statistics filtered by date range"
			},
			"response": []
		},
		{
			"name": "Get Report by ID",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/v1/reports/:id",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", ":id"],
					"variable": [
						{
							"key": "id",
							"value": "68af10f570daf6981da9d00f",
							"description": "Report ID"
						}
					]
				},
				"description": "Get a specific report by its ID"
			},
			"response": []
		},
		{
			"name": "Download Report",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/v1/reports/:id/download",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", ":id", "download"],
					"variable": [
						{
							"key": "id",
							"value": "68af10f570daf6981da9d00f",
							"description": "Report ID"
						}
					]
				},
				"description": "Download a report file in its original format"
			},
			"response": []
		},
		{
			"name": "Update Report",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"title\": \"Updated Monthly Occupancy Report\",\n  \"description\": \"Updated comprehensive occupancy analysis for January 2025\",\n  \"tags\": [\"occupancy\", \"monthly\", \"2025\", \"updated\"]\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/v1/reports/:id",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", ":id"],
					"variable": [
						{
							"key": "id",
							"value": "68af10f570daf6981da9d00f",
							"description": "Report ID"
						}
					]
				},
				"description": "Update an existing report's metadata"
			},
			"response": []
		},
		{
			"name": "Delete Report",
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/v1/reports/:id",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", ":id"],
					"variable": [
						{
							"key": "id",
							"value": "68af10f570daf6981da9d00f",
							"description": "Report ID"
						}
					]
				},
				"description": "Delete a specific report (admin only)"
			},
			"response": []
		},
		{
			"name": "Cleanup Reports",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"olderThan\": \"2024-12-01T00:00:00.000Z\",\n  \"reportType\": \"occupancy\",\n  \"format\": \"pdf\",\n  \"dryRun\": true\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/v1/reports/cleanup",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", "cleanup"]
				},
				"description": "Clean up old reports based on criteria (admin only)"
			},
			"response": []
		},
		{
			"name": "Bulk Delete Reports",
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "JWT authentication token"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"reportIds\": [\n    \"68af10f570daf6981da9d00f\",\n    \"68af10f570daf6981da9d010\",\n    \"68af10f570daf6981da9d011\"\n  ]\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/v1/reports/bulk-delete",
					"host": ["{{base_url}}"],
					"path": ["api", "v1", "reports", "bulk-delete"]
				},
				"description": "Delete multiple reports at once (admin only)"
			},
			"response": []
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{auth_token}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:4000",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string",
			"description": "JWT authentication token obtained from login"
		}
	]
}